@using Castle.Core.Internal
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer

@model IEnumerable<GoedBezigWebApp.Models.Group>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_pannel.cshtml";
}

<h2>@Localizer["Group Index"]</h2>

<p>
    <a asp-action="Create">Create New</a>
</p>

<table class="table">
    <thead>
        <tr>
            <th>
                               @Localizer["GroupName"]
            </th>
            <th>
                                @Localizer["CreationDate"]
            </th>
            <th>
                                @Localizer["Users"]
            </th>
            
            <th></th>
        </tr>
    </thead>
    <tbody>
    @if (!Model.IsNullOrEmpty())
    {
        foreach (var item in Model)
         {
             <tr>
                 <td>
                     @Html.DisplayFor(modelItem => item.GroupName)
                 </td>
                 <td>
                     @Html.DisplayFor(modelItem => item.Timestamp)
                 </td>

                 <td>
                     @Html.DisplayFor(modelItem => item.Users)
                 </td>


                 <td>
                     @* 2 verschillende links voor addUser omdat er geen enkele werkt ¯\_(?)_/¯ *@
                     @*@Html.ActionLink("AddUser", "AddUser", new { id = item.GroupName })  |*@
                     <a asp-action="AddUser" asp-route-id="@item.GroupName">@Localizer["Subscribe"]</a>
                 </td>
             </tr>
         }
    }
    else { <tr><td colspan="3">No Groups to display</td></tr>}
    </tbody>
</table>